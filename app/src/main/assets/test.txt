COAT ( 1000 )

LET ( black 0c0 )
LET ( green 0c8e8 )
LET ( yellow 0cee4 )
LET ( blue 0c99e )
LET ( rose 0ce6b2ab )
LET ( brown 0ccb2 )
LET ( pink 0cfcf )
LET ( darkpink 0ce99 )
LET ( purple 0cc673d9 )
LET ( gray 0c9 )
LET ( white 0cffe )
LET ( orange 0cf84 )
LET ( khaki 0cd4ddaa )
LET ( magenta 0c800080 )
LET ( red 0ca00 )

;
; *** DEFINITIONS OF THE BOARDS AND LAYOUTS ***
;

; A default érték komplex paramétereknél használható. 
; A komplex paraméter minden további előfordulásánál ezek az értékek lesznek először megadva,
; amiket további paraméterek felülírhatnak.

DEFAULT ( ADDLAYOUT ( HEXAGONAL ALIGN odds ROWS 5 HALFCOLUMNS 15 ) )

; A let érték ezzel szemben egy label-t definiál. 
; Az itt szereplő értékek a label helyett lesznek behelyettesítve, 
; vagyis a korábban megadott paramétereket felülírhatják, 
; míg a később megadott paraméterek a label paramétereit írhatják felül.
LET ( landlay ADDLAYOUT ( ALIGN evens HALFCOLUMNS 25 ) )

; A legegyszerűbb esetben a board (landscape/portrait pár) mindkét irányhoz 
; ugyanazt a layout-ot használja. 
; Ilyenkor a layout-ban elhelyezett ASBOARD jelzi, hogy ugyanezen a néven egy board is 
; kerüljön létrehozásra. START (legelső board) és LOCK (mindig lock-olt board) használható

ADDLAYOUT ( ID lay1 COLOR yellow ASBOARD START )

; A két külön iránynak megfelelő layoutot külön kell definiálni
ADDLAYOUT ( ID lay2 COLOR rose ) 
ADDLAYOUT ( ID lay2w landlay ROWS 7 COLOR rose ) 
ADDBOARD ( ID lay2 PORTRAIT lay2 LANDSCAPE lay2w LOCK ) 

; A layoutok természetesen többször is használhatóak, pl. két non-wide mellett ugyanaz a wide
ADDLAYOUT ( ID lay3 color green )
ADDBOARD ( ID lay3 PORTRAIT lay3 LANDSCAPE lay2w LOCK START)

; Persze ez is megy. És itt is lehet azonos az azonosító
ADDLAYOUT ( ID lay4 ALIGN evens COLOR pink )
ADDBOARD ( ID lay4 LAYOUT lay4 ) 

ADDLAYOUT ( ID lay5 COLOR darkpink ASBOARD )
ADDLAYOUT ( ID lay6 COLOR purple ASBOARD )


;
; *** FILLING UP LAYOUTS WITH DATA ***
;

; A default érték minden további title-re vonatkozik
DEFAULT ADDTITLE ( XOFFSET 0 YOFFSET 250 SIZE 1000 BOLD ITALICS )

; A board-ok közötti ugrás a SWITCH utasítással történik
; Ha a BOARD külön nem rendelkezik, akkor itt is beállíthatjuk a LOCK paramétert
; A 'BACK' speciális érték, visszavisz a korábbi board-ra.
; Ha az aktuális board lock-olt, akkor az előzőre, ami szintén lock-olt lesz.
; Ha az aktuális nem lock-olt, akkor az utolsó lock-olt-ra.
; FONTOS! Ha olyan board-ra váltunk, ami korábban már szerepelt, akkor arra térünk vissza -
; vagyis mindig a legrövidebb út számít a START board irányában.

; A 'váltosort' label-ként definiáljuk, mert minden boardra rákerül
LET ( jump BLOCK (
  BUTTON ( SWITCH lay1 )
  BUTTON ( SWITCH lay2 )
  BUTTON ( SWITCH lay3 )
  BUTTON ( SWITCH lay4 )
  BUTTON ( SWITCH lay5 )
  BUTTON ( SWITCH lay6 LOCK )
  BUTTON ( SWITCH BACK )
))

; Mivel ez sokszor szerepel, itt is csinálunk label-t
; Érdekes, hogy a draft token egyszerre lehet keyword és label is. Ennek az az oka,
; hogy először mindig a keyword kerül kiértékelésre, s csak ha az nincs, akkor a label.
LET ( draft BUTTON ( DO DRAFT COLOR red ADDTITLE (NONBOLD NONITALICS) ) )

BLOCK ( LAYOUT lay1 COLUMN 1 ROW 1
    BUTTON ( TEXT "Lay1" ADDTITLE (NONBOLD NONITALICS))
    BUTTON ( draft )
      )
BLOCK ( LAYOUT lay2 COLUMN 1 ROW 1
    BUTTON ( TEXT "Lay2" ADDTITLE (NONBOLD NONITALICS))
    BUTTON ( DO DRAFT COLOR red ADDTITLE (NONBOLD NONITALICS)) 
    ; BUTTON ( draft )
      )
BLOCK ( LAYOUT lay2w COLUMN 1 ROW 1
    BUTTON ( TEXT "Lay2w" ADDTITLE (NONBOLD NONITALICS))
    BUTTON ( draft )
      )
BLOCK ( LAYOUT lay3 COLUMN 1 ROW 1
    BUTTON ( TEXT "Lay3" ADDTITLE (NONBOLD NONITALICS))
    BUTTON ( draft )
      )
BLOCK ( LAYOUT lay4 COLUMN 1 ROW 1
    BUTTON ( TEXT "Lay4" ADDTITLE (NONBOLD NONITALICS))
    BUTTON ( draft )
      )
BLOCK ( LAYOUT lay5 COLUMN 1 ROW 1
    BUTTON ( TEXT "Lay5" ADDTITLE (NONBOLD NONITALICS))
    BUTTON ( draft )
      )
BLOCK ( LAYOUT lay6 COLUMN 1 ROW 1
    BUTTON ( TEXT "Lay6" ADDTITLE (NONBOLD NONITALICS))
    BUTTON ( draft )
      )

; Ha a ROW paraméter negatív, akkor a legalsó sortól kezdi a számítást
BLOCK ( LAYOUT lay1 COLUMN 1 ROW -1 jump )
BLOCK ( LAYOUT lay2 COLUMN 1 ROW -1 jump )
BLOCK ( LAYOUT lay2w COLUMN 1 ROW -1 jump )
BLOCK ( LAYOUT lay3 COLUMN 1 ROW -1 jump )
BLOCK ( LAYOUT lay4 COLUMN 1 ROW -1 jump )
BLOCK ( LAYOUT lay5 COLUMN 1 ROW -1 jump )
BLOCK ( LAYOUT lay6 COLUMN 1 ROW -1 jump )

BLOCK ( LAYOUT lay1 COLUMN 1 ROW 2
    R
    BUTTON ( SINGLE FIRST ( TEXT "Single" ) )
    BUTTON ( SINGLE FIRST ( TEXT "Repeat" ) REPEAT )
    BUTTON ( DOUBLE FIRST ( TEXT "double" ) SECOND ( TEXT "DOUBLE" ) )
    BUTTON ( ALTERNATE FIRST ( TEXT "alt" ) SECOND ( TEXT "ALT" ) )
    BUTTON ( LIST ADD( TEXT "v" ) ADD ( TEXT "w" ) ADD ( TEXT "www") )
      )

BLOCK ( LAYOUT lay1 COLUMN 1 ROW 3
    BUTTON ( TEXT "Single" ONSTAY )
    BUTTON ( TEXT "Repeat" REPEAT ONCIRCLE )
    BUTTON ( DOUBLE TEXT "double" SECOND ( TEXT "DOUBLE" ) ONSTAY )
    BUTTON ( ALTERNATE TEXT "alt" SECOND ( TEXT "ALT" ) ONSTAY )
    BUTTON ( ADD( TEXT "v" ) ADD ( TEXT "w" ) ADD ( TEXT "www") ONSTAY )
      )

BLOCK ( LAYOUT lay1 COLUMN 3 ROW 1
    BUTTON ( ENTER REPEAT )
    BUTTON ( SPACETRAVEL )
    BUTTON ( DO BACKSPACE REPEAT)
    BUTTON ( DO DELETE REPEAT)
    BUTTON ( DO SETTINGS)
      )

; A landscape lay2-n a korábbi pozícionálások kipróbálása van

DEFAULT BUTTON ( COLOR green )

LET ( zold BUTTON ( COLOR green ) )
LET ( piros BUTTON ( COLOR red ) )

LET ( abc BLOCK ( 
	BUTTON ( TEXT "A") 
	BUTTON ( TEXT "B") 
	BUTTON ( TEXT "C") ))

LET ( def BLOCK ( 
	UR
	BUTTON ( TEXT "D") 
	DR
	BUTTON ( TEXT "E") 
	UR
	BUTTON ( TEXT "F") 
	DR ))

LET ( ghi BLOCK ( 
	BUTTON ( TEXT "G") 
	BUTTON ( TEXT "H") 
	BUTTON ( TEXT "I") ))


BLOCK ( LAYOUT lay2w COLUMN 1 ROW 4
    BUTTON ( TEXT "->" ) crl Button ( text "crl" ) home crr Button ( text "crr" ) skip (2) abc r def r ghi crr Button ( text "crr" )
      )


BLOCK ( LAYOUT lay2w COLUMN 5 ROW 2
    BUTTON ( TEXT "1" zold )
    SKIP 2
    BUTTON ( TEXT "N" zold )
    HOME
    DR
    BUTTON ( TEXT "DR" piros )
    HOME
    DL
    BUTTON ( TEXT "DL" piros )
    HOME
    UR
    BUTTON ( TEXT "UR" piros )
    HOME
    UL
    BUTTON ( TEXT "UL" piros )
    HOME
    R
    BUTTON ( TEXT "R" piros )
    HOME
    L
    BUTTON ( TEXT "L" piros )
      )
    
BLOCK ( LAYOUT lay2w COLUMN 11 ROW 2
    BUTTON ( TEXT "0" zold )
    UL
    BUTTON ( TEXT "1" piros )
    R
    BUTTON ( TEXT "2" piros )
    DR
    BUTTON ( TEXT "3" piros )
    DL
    BUTTON ( TEXT "4" piros )
    L
    BUTTON ( TEXT "5" piros )
    UL
    BUTTON ( TEXT "6" piros )
      )
      
; lay3 skip teszt

LET ( bl BLOCK ( 
	SKIP 1
	BUTTON ( TEXT "BL" COLOR red)
	SKIP 1
	))
 

BLOCK ( LAYOUT lay3 COLUMN 3 ROW 2 BUTTON ( TEXT '>' ) )

BLOCK ( LAYOUT lay3 COLUMN 4 ROW 2 
	BUTTON ( TEXT '1' COLOR yellow)
	bl
	BUTTON ( TEXT '2' COLOR yellow) 
	)

BLOCK ( LAYOUT lay3 COLUMN 3 ROW 3 BUTTON ( TEXT '>' ) )

BLOCK ( LAYOUT lay3 COLUMN 4 ROW 3 
	BUTTON ( TEXT '1' COLOR yellow) 
	R
	SKIP 2
	BUTTON ( TEXT '2' COLOR yellow) 
	)

BLOCK ( LAYOUT lay3 COLUMN 3 ROW 4 BUTTON ( TEXT '>' ) )

BLOCK ( LAYOUT lay3 COLUMN 4 ROW 4 
	SKIP 1
	BUTTON ( TEXT '1' COLOR yellow) 
	SKIP 1
	BUTTON ( TEXT '2' COLOR yellow) 
	)

; lay4 findfree pozícionálás.

DEFAULT ( BUTTON ( COLOR yellow ))
BLOCK ( LAYOUT lay4 COLUMN 3 ROW 1
	BUTTON ( TEXT "a")
	SKIP 1
	BUTTON ( TEXT "b")
	SKIP 1
	BUTTON ( TEXT "c")
	HOME
	FINDFREE
	BUTTON ( TEXT "f" COLOR gray)
	FINDFREE
	BUTTON ( TEXT "g" COLOR gray)
	FINDFREE
	BUTTON ( TEXT "h" COLOR gray)
	FINDFREE
	BUTTON ( TEXT "i" COLOR gray)
	FINDFREE
	BUTTON ( TEXT "j" COLOR gray)
	FINDFREE
	BUTTON ( TEXT "k" COLOR gray)
	FINDFREE
	BUTTON ( TEXT "l" COLOR gray)
	FINDFREE
	BUTTON ( TEXT "m" COLOR gray)
	FINDFREE
	BUTTON ( TEXT "n" COLOR gray)
	FINDFREE
	BUTTON ( TEXT "o" COLOR gray)
	FINDFREE
	BUTTON ( TEXT "p" COLOR gray)
	FINDFREE
	BUTTON ( TEXT "q" COLOR gray)
	FINDFREE
	BUTTON ( TEXT "r" COLOR gray)
	FINDFREE
	BUTTON ( TEXT "f" COLOR gray)
	FINDFREE
	BUTTON ( TEXT "g" COLOR gray)
	FINDFREE
	BUTTON ( TEXT "h" COLOR gray)
	FINDFREE
	BUTTON ( TEXT "i" COLOR gray)
	FINDFREE
	BUTTON ( TEXT "j" COLOR gray)
	FINDFREE
	BUTTON ( TEXT "k" COLOR gray)
	FINDFREE
	BUTTON ( TEXT "l" COLOR gray)
	FINDFREE
	BUTTON ( TEXT "m" COLOR gray)
	FINDFREE
	BUTTON ( TEXT "n" COLOR gray)
	FINDFREE
	BUTTON ( TEXT "o" COLOR gray)
	FINDFREE
	BUTTON ( TEXT "p" COLOR gray)
	FINDFREE
	BUTTON ( TEXT "q" COLOR gray)
	)
	
; lay5 - extend
DEFAULT ( BUTTON ( COLOR rose ))

BLOCK ( LAYOUT lay5 COLUMN 2 ROW 2
	BUTTON ( TEXT "a")
	BUTTON ( TEXT "b")
	BUTTON ( TEXT "c")
		)
BLOCK ( LAYOUT lay5 COLUMN 2 ROW 2
	R
	EXTEND ( COLOR green )
	EXTEND ( COLOR red )
		)
				
BLOCK ( LAYOUT lay5 COLUMN 2 ROW 3
	BUTTON ( TEXT "a")
	BUTTON ( TEXT "b")
	BUTTON ( TEXT "c")
	BUTTON ( TEXT "d")
	BUTTON ( TEXT "e")
		)

DEFAULT ADDTITLE ( XOFFSET 0 YOFFSET -250 SIZE 750 )

BLOCK ( LAYOUT lay5 COLUMN 2 ROW 3
	EXTEND ( ADDTITLE (TEXT "1"))
	EXTEND ( ADDTITLE (TEXT "2"))
	EXTEND ( ADDTITLE (TEXT "3") COLOR yellow)
	EXTEND ( ADDTITLE (TEXT "4") COLOR green )
	EXTEND ( ADDTITLE (TEXT "5") COLOR red )
		)

DEFAULT ADDTITLE ( XOFFSET 0 YOFFSET 250 SIZE 1000 BOLD ITALICS )
		
BLOCK ( LAYOUT lay5 COLUMN 2 ROW 4
	BUTTON ( TEXT "d")
	BUTTON ( TEXT "a")
	BUTTON ( TEXT "l")
		)
		
BLOCK ( LAYOUT lay5 COLUMN 2 ROW 4
	EXTEND ( SECOND (TEXT "dbl"))
	EXTEND ( ALTERNATE SECOND (TEXT "alt"))
	EXTEND ( LIST ADD ( TEXT "1" ) ADD ( TEXT "2" ) ADD (TEXT "3"))
		)		

; lay6 - combined packets

BLOCK ( LAYOUT lay6 COLUMN 2 ROW 2
	BUTTON ( METASHIFT )
	BUTTON ( TEXT "text")
	BUTTON ( SEND 'K')
	BUTTON ( COMBINE TEXT "text" SEND 'K')
	BUTTON ( COMBINE DO BACKSPACE SEND KEYDEL )
	BUTTON ( COMBINE DO DELETE SEND KEYFWDEL)
	BUTTON ( COMBINE TEXT '\t' SEND KEYTAB ADDTITLE ( TEXT "TAB" ) )
		)

STOP
